<%- include('layouts/header') %>
<body>
    <!-- <div class="progress-checkout-container">
        <div class="progress-step-container">
            <div class="step-check"></div>
            <span class="step-title">Payment</span>
        </div>
        <div class="progress-step-container">
            <div class="step-check"></div>
            <span class="step-title">Shipping</span>
        </div>
    </div> -->
    <div class="form-container">
        <h2 class="form-title">Payment Details</h2>
        <form id="payment-form" action="/submit-payment" method="POST" class="checkout-form">
            <div class="input-line">
                <label for="name">Name on the card</label>
                <input type="text" name="name" id="name" placeholder="Your name and surname">
            </div>
            <div class="input-line">
                <label for="name">Card number</label>
                <input type="text" name="card" id="card" placeholder="1111-2222-3333-4444">
            </div>
            <div class="input-container">
                <div class="input-line">
                    <label for="date">Expiring Date</label>
                    <input type="text" name="date" id="date" placeholder="01/25">
                </div>
                <div class="input-line">
                    <label for="date">CVC</label>
                    <input type="text" name="cvc" id="cvc" placeholder="***">
                </div>
            </div>
            <!-- <a href="/shipping"><button type="submit" style="padding: 5px; border-radius: 10px; background-color: #f1356d; border: none; color: white;" class="next-btn">Next</button></a> -->
            <button type="submit" style="padding: 5px; border-radius: 10px; background-color: #f1356d; border: none; color: white;" class="next-btn">Next</button>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const paymentForm = document.getElementById('payment-form');
            paymentForm.addEventListener('submit', function (e) {
                e.preventDefault(); // Prevent the default form submission

                // Here, you can send the form data to the server using AJAX or fetch.
                // Example using fetch:
                fetch('/submit-payment', {
                    method: 'POST',
                    body: new FormData(paymentForm), // Send form data
                })
                .then(response => {
                    // Handle the response as needed
                    if (response.ok) {
                        // If the server indicates success, navigate to the "Shipping" page
                        window.location.href = '/shipping';
                    } else {
                        // Handle errors or show a message
                        console.error('Payment submission failed.');
                    }
                })
                .catch(error => {
                    console.error('An error occurred while submitting the payment:', error);
                });
            });
        });
    </script>
</body>
